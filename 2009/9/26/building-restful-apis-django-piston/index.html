<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>On the Other Hand</title>
    <meta name="description" content="A blog">
    <meta name="author" content="Josh Ourisman">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

    <!-- Le styles -->
    <link rel="stylesheet" href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css">
    <style type="text/css">
    /* Override some defaults */
    html, body {
	background-color: #eee;
    }
    body {
	padding-top: 40px; /* 40px to make the container go all the way to the bottom of the topbar */
    }
    .container > footer p {
	text-align: center; /* center align it with the container */
    }
    .container {
	width: 820px; /* downsize our container to make the content feel a bit tighter and more cohesive. NOTE: this removes two full columns from the grid, meaning you only go to 14 columns and not 16. */
    }

    /* The white background content wrapper */
    .content {
	background-color: #fff;
	padding: 20px;
	margin: 0 -20px; /* negative indent the amount of the padding to maintain the grid system */
	-webkit-border-radius: 0 0 6px 6px;
	-moz-border-radius: 0 0 6px 6px;
	border-radius: 0 0 6px 6px;
	-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	-moz-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	box-shadow: 0 1px 2px rgba(0,0,0,.15);
    }

    /* Page header tweaks */
    .page-header {
	background-color: #f5f5f5;
	padding: 20px 20px 10px;
	margin: -20px -20px 20px;
    }

    /* fix label link color */
    .label a {
        color: #FFF;
    }
    </style>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29117113-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
	<div class="container">
	  <a class="brand" href="/">joshourisman.com</a>
	  <ul class="nav">
 -->	  </ul>


	  <form action="http://www.google.com/cse" class="pull-right">
	    <div>
	      <input type="hidden" name="cx" value="014887151929574737578:covn-9kpxsk" />
	      <input type="hidden" name="ie" value="UTF-8" />
	      <input type="text" name="q" size="31" />
	      <input type="submit" name="sa" value="Search" />
	    </div>
	  </form>

	</div>
      </div>
    </div>

    <div class="container">

      <div class="content">
	<div class="page-header">
    <span class="pull-right">
    <a href="http://feeds.feedburner.com/joshourisman/lRQx"><img src="http://feeds.feedburner.com/~fc/joshourisman/lRQx?bg=99CCFF&amp;fg=444444&amp;anim=0" alt="" /></a>
    </span>
    <h1>On the Other Hand, <small>a blog by Josh Ourisman.</small></h1>
	</div>
	<div class="row">
	  <div class="span14">
	    
<div class="row">
  <div class="span14">
    <h1>
      <a href="" rel="bookmark">Building RESTful APIs with django-piston</a>
      <br />
      <small>Sep 26, 2009</small>
    </h1>
    <a href="http://creative.discovery.com">Discovery Creative</a> has a lot of <a href="http://creative.discovery.com/work/">web sites and apps</a> out there. And quite a few of them need to send email in one form or another. Previously that has meant that every single one of those sites/apps needed to implement it's own mechanism for sending email. This is obviously a bit of a pain, not to mention a potential security risk, and a blatant violation of the <a href="http://en.wikipedia.org/wiki/DRY">DRY principle</a>. So I was tasked with building a better mousetrap, as it were.

One of the cool new things I had heard about at <a href="http://www.djangocon.org/">DjangoCon 2009</a> (which I really should have written about...) was <a href="http://bitbucket.org/jespern/django-piston/wiki/Home">Piston</a>, a framework built in <a href="http://www.djangoproject.com">Django</a> for building RESTful APIs by the <a href="http://bitbucket.org">bitbucket</a> guys. I'd never actually built any sort of API before, but it seems to be the thing to do, so I decided to take django-piston for a whirl and how it works. As it turns out, it works extremely well. So well, in fact, that when coupled with some of the fun tools that Django provides (such as <a href="http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#topics-forms-modelforms">ModelForms</a>) you can easily build a RESTful API in no time at all.

Thanks to django-piston I was able to create a simple API that will allow us, moving forward, to use a single, centralized email solution for all our web apps. In fact anything that can send an HTTP POST request (including curl, which is what I've been using for testing) can send email using the API I created so long as it can also handle HTTP authentication (which django-piston easily handles against <a href="http://docs.djangoproject.com/en/dev/topics/auth/#topics-auth">django.contrib.auth</a>). I'm hoping, after a little more work and refinement, to open-source our API so that other can benefit from it (and, hopefully, contribute back to it!), but for now you'll have to make do with a sample project that I threw together for the most recent django-district meeting this past Thursday: <a href="http://bitbucket.org/Josh/django-piston-presentation/wiki/Home">Django-Piston Presentation</a>. It's a bitbucket repository that includes all the code for a simple RESTful API that allows you to create, fetch, and delete objects from a simple Django object. This particular project was designed to be extremely flexible, and all one needs to do is add or remove fields from the model (or point it at a different model) to adapt it to just about anything. Hopefully it will serve as a pretty good instructional example to anyone who wants to create their own API with django-piston. The project also contains my notes on how to build and test it in an Emacs org-mode file.

Next up: Git, Mercurial, and moving on from Subversion.
    <div class="entry_meta">
      <a href="#disqus_thread">View Comments</a>
      
      
      Tags:
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q=work&sa=Search#gsc.tab=0&gsc.q=work&gsc.page=1" rel="tag">work</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= discovery creative&sa=Search#gsc.tab=0&gsc.q= discovery creative&gsc.page=1" rel="tag"> discovery creative</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= django&sa=Search#gsc.tab=0&gsc.q= django&gsc.page=1" rel="tag"> django</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= piston&sa=Search#gsc.tab=0&gsc.q= piston&gsc.page=1" rel="tag"> piston</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= rest&sa=Search#gsc.tab=0&gsc.q= rest&gsc.page=1" rel="tag"> rest</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= api&sa=Search#gsc.tab=0&gsc.q= api&gsc.page=1" rel="tag"> api</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= dry&sa=Search#gsc.tab=0&gsc.q= dry&gsc.page=1" rel="tag"> dry</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q= discovery&sa=Search#gsc.tab=0&gsc.q= discovery&gsc.page=1" rel="tag"> discovery</a></span>
      
      
    </div>
  </div>
</div>
      <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'otherhand'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

	  </div>
	</div>
      </div>

      <footer>
	<p>&copy; Josh Ourisman 2006-2012</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>