<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>On the Other Hand</title>
    <meta name="description" content="A blog">
    <meta name="author" content="Josh Ourisman">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

    <!-- Le styles -->
    <link rel="stylesheet" href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css">
    <style type="text/css">
    /* Override some defaults */
    html, body {
	background-color: #eee;
    }
    body {
	padding-top: 40px; /* 40px to make the container go all the way to the bottom of the topbar */
    }
    .container > footer p {
	text-align: center; /* center align it with the container */
    }
    .container {
	width: 820px; /* downsize our container to make the content feel a bit tighter and more cohesive. NOTE: this removes two full columns from the grid, meaning you only go to 14 columns and not 16. */
    }

    /* The white background content wrapper */
    .content {
	background-color: #fff;
	padding: 20px;
	margin: 0 -20px; /* negative indent the amount of the padding to maintain the grid system */
	-webkit-border-radius: 0 0 6px 6px;
	-moz-border-radius: 0 0 6px 6px;
	border-radius: 0 0 6px 6px;
	-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	-moz-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	box-shadow: 0 1px 2px rgba(0,0,0,.15);
    }

    /* Page header tweaks */
    .page-header {
	background-color: #f5f5f5;
	padding: 20px 20px 10px;
	margin: -20px -20px 20px;
    }

    /* fix label link color */
    .label a {
        color: #FFF;
    }
    </style>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29117113-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
	<div class="container">
	  <a class="brand" href="/">joshourisman.com</a>
	  <ul class="nav">
 -->	  </ul>


	  <form action="http://www.google.com/cse" class="pull-right">
	    <div>
	      <input type="hidden" name="cx" value="014887151929574737578:covn-9kpxsk" />
	      <input type="hidden" name="ie" value="UTF-8" />
	      <input type="text" name="q" size="31" />
	      <input type="submit" name="sa" value="Search" />
	    </div>
	  </form>

	</div>
      </div>
    </div>

    <div class="container">

      <div class="content">
	<div class="page-header">
    <span class="pull-right">
    <a href="http://feeds.feedburner.com/joshourisman/lRQx"><img src="http://feeds.feedburner.com/~fc/joshourisman/lRQx?bg=99CCFF&amp;fg=444444&amp;anim=0" alt="" /></a>
    </span>
    <h1>On the Other Hand, <small>a blog by Josh Ourisman.</small></h1>
	</div>
	<div class="row">
	  <div class="span14">
	    
<div class="row">
  <div class="span14">
    <h1>
      <a href="" rel="bookmark">FreeBSD on an Apple MacBook</a>
      <br />
      <small>Apr 06, 2008</small>
    </h1>
    For the past week or so, I've been running <a href="http://www.freebsd.org">FreeBSD</a> on my MacBook. So far, I've got to say, I absolutely love it. I have a lot of experience running a range of Linux distributions on all sorts of hardware including both PPC and Intel Macs, but just a week or so of FreeBSD usage has convinced me of the OS' value over Linux.

A standard FreeBSD install is incredibly simple. If you don't want to dive into any messy details you don't have to  (though you do need to be comfortable with the fact that you're going to be using a curses interface rather than a real GUI). You could probably have a full, working install of FreeBSD, complete with X.org, in 15-30 minutes if you didn't want to do anything crazy.

I, of course, wanted to do some crazy things. Namely, I wanted to have it running on Sun's <a href="http://en.wikipedia.org/wiki/ZFS">ZFS</a>, which took a little extra work. If you just want to run FreeBSD on your MacBook easily, I highly recommend <a href="http://goddess-gate.com/dc2/index.php/post/251">this howto from Goddess-Gate.com</a>. It's very good and very easy to follow (just remember that you might not use a French-layout keyboard and you'll be fine).

To start things off, after partitioning my drive with BootCamp, I used <a href="http://www.ish.com.au/solutions/articles/freebsdzfs">this ish.com howto</a> to get a minimal FreeBSD install running with ZFS. At this point, my Airport card was working with the built-in drivers, which was absolutely stunning after all the work and effort I've put into trying to get WiFi to work with Linux in the past. After that I took a few tips from <a href="http://www.zenspider.com/Admin/Install.html">zenspider</a> to get the basics setup like configuring my own user with sudo privs, and ZSH as the default shell (I'm a fan of things that start with Z, I guess...). After that, just a few tips from the Goddess-Gate.com howto as well as the <a href="http://wiki.freebsd.org/AppleMacbook">MacBook page o the FreeBSD wiki</a> (the wiki page will be important later) got me to a basically complete and usable stage.

In addition to the basics, I installed the <a href="http://www.enlightenment.org/">e17 window manager</a>, which so far I really like, gvim and xemacs, for my basic work needs (traditionally I'm an emacs guy, but lately I've been playing around with vim a lot), Opera for web browsing and some of the KDE packages, though I don't want or plan to use KDE, I just wanted a few of the applications to play with (Konqueror and Kate), so I removed all the KDE packages other than kdebase and it's dependencies.

At this point I only had a few issues with my install:
<ol><li>the trackpad - FreeBSD currently has no support for advanced features with the MacBook trackpad. The synaptics drivers available in FreeBSD don't recognize the USB trackpad that Apple uses, so you're forced to use basic mouse drivers which means no two-finger scrolling or right-click. The best solution out there (and I'll address this in a bit) is to configure xbindkeys so that F10 sets your mouse button to left-click, F11 sets it to middle-click, and F12 sets it to right-click.</li>
	<li>fn key - FreeBSD also currently has no support for the fn key on the MacBook keyboard which means that the home, end, pgup and pgdn keys are unusable. This isn't a huge deal as you can use various other keybindings to the same effect, but it's annoying.</li>
	<li>battery monitor - For some reason the battery monitor widget that comes with e17 only sort of works with my MacBook. If my battery is full, it says so. Otherwise, it just says 'DRIVER'. Oddly enough, this doesn't seem to indicate an actual driver problem, because I can get the full info on my batter at the command line including time remaining and all that fun stuff. Since the information is obviously all available I'm going to try and patch the e17 widget to work with a MacBook when I've got the time. Meanwhile, I'm sure that other battery monitor probably work, though I haven't had a chance to try any yet.</li>
	<li>Firefox - I simply have not been able to get Firefox to work properly. I've tried various ports (firefox, firefox-devel,linux-firefox, and linux-firefox-devel), but sometimes they fail to compile, and even when they do, they won't run. Since I've got both Opera and Konquerer installed I'm just going to ignore this issue until Firefox 3 is released and makes it into the ports tree.</li></ol>

Other than those four things, everything else has really been a dream in terms of ease of setup and use. And, I'm happy to announce, I've come up with a better solution to the right-click issue!

You have to install <a href="http://homepage3.nifty.com/tsato/xvkbd/">xvkbd</a> and then add the following to your .bindkeysrc:
<pre>"xvkbd -text '\m3'"
	Control + b:1

"xvkbd -text '\m2'"
	Alt + b:1</pre>

This will allow you to use ctrl-click for right-click, as in the Mac OS, and alt-click for a middle-click.

The one caveat, which Rui Paolo, writer of the <a href="http://wiki.freebsd.org/AppleMacbook">MacBook entry in the FreeBSD wiki</a> helped me discover, is that you have to compile the latest version of xvkbd yourself, as the one in ports is outdated and doesn't work for this. So I'm going to work on building a new port with the latest code. The lack of a simple way to right-click was the one thing that was really bothering me with my FreeBSD install, so this is a pretty huge deal as far as I'm concerned.

Well, that was a very long and geeky post. Now I have to get ready for my international flight tonight.
    <div class="entry_meta">
      <a href="#disqus_thread">View Comments</a>
      
      
      Tags:
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q=freebsd&sa=Search#gsc.tab=0&gsc.q=freebsd&gsc.page=1" rel="tag">freebsd</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q=apple&sa=Search#gsc.tab=0&gsc.q=apple&gsc.page=1" rel="tag">apple</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q=zfs&sa=Search#gsc.tab=0&gsc.q=zfs&gsc.page=1" rel="tag">zfs</a></span>
      
      <span class="label"><a href="http://www.google.com/cse?cx=014887151929574737578:covn-9kpxsk&ie=UTF-8&q=linux&sa=Search#gsc.tab=0&gsc.q=linux&gsc.page=1" rel="tag">linux</a></span>
      
      
    </div>
  </div>
</div>
      <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'otherhand'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

	  </div>
	</div>
      </div>

      <footer>
	<p>&copy; Josh Ourisman 2006-2012</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>